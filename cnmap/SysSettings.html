<!DOCTYPE html>
<html>
<head>
    <title>System settings</title>
    <!-- jQuery -->
    <script src="bower_components/jquery/jquery.js"></script>
    <!-- jQuery rest -->
    <script src="bower_components/jquery/plugins/jquery.rest.min.js"></script>
    <script src="bower_components/jquery/plugins/jquery.bsAlerts.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function() {

            $("#header-alert").hide();
            var client = new $.RestClient(ctx + '/services/api/');
            client.add('gisindex');
            $("#update-gisindex").click(function() {

                $(this).addClass("disable");
                var that = this;
                client.gisindex.read().done(function() {
                    $(document).trigger("add-alerts", [
                        {
                            message: "This is success",
                            priority: "success"
                        }
                    ]);
                    $(that).removeClass("disable");
                });
            })
        })
    </script>
</head>
<body>

<div class="container">
    <div data-alerts="alerts" data-titles="{'warning': '<em>Warning!</em>'}" data-ids="myid" data-fade="3000"></div>
    <div class="panel panel-default">
        <div class="panel-heading">trigger update photo gis index table</div>
        <div class="panel-body">
            <button id="update-gisindex" class="btn btn-primary">trigger</button>
        </div>
    </div>
</div>
</body>
</html>